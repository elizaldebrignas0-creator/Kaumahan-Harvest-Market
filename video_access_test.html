
<!DOCTYPE html>
<html>
<head>
    <title>Video Test Page</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .video-container { max-width: 800px; margin: 0 auto; }
        video { width: 100%; border: 2px solid #ccc; }
        .status { margin: 10px 0; padding: 10px; background: #f0f0f0; }
    </style>
</head>
<body>
    <h1>Video Playback Test</h1>
    <div class="status">
        <strong>Expected URL:</strong> /static/img/advertisement.mp4<br>
        <strong>File Size:</strong> 4239436
    </div>
    
    <div class="video-container">
        <video controls preload="metadata" poster="/static/img/banner.png" style="width: 100%;">
            <source src="/static/img/advertisement.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
    
    <div class="status">
        <h3>Test Instructions:</h3>
        <ol>
            <li>Check if the poster image appears</li>
            <li>Click the play button</li>
            <li>Check browser console for errors</li>
            <li>Try downloading: <a href="/static/img/advertisement.mp4" target="_blank">Direct Link</a></li>
        </ol>
    </div>
    
    <script>
        const video = document.querySelector('video');
        video.addEventListener('loadstart', () => console.log('Video loading started'));
        video.addEventListener('loadedmetadata', () => console.log('Video metadata loaded'));
        video.addEventListener('canplay', () => console.log('Video can play'));
        video.addEventListener('error', (e) => {
            console.error('Video error:', e);
            console.error('Error code:', video.error ? video.error.code : 'Unknown');
        });
        
        // Check ready state after 3 seconds
        setTimeout(() => {
            console.log('Video ready state:', video.readyState);
            console.log('Video network state:', video.networkState);
        }, 3000);
    </script>
</body>
</html>
